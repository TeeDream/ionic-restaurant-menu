<ion-modal
  [isOpen]="isProductModalOpen"
  (didDismiss)="setModifyProductOpen.emit(false)"
>
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Modify Product</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="setModifyProductOpen.emit(false)"
          >Close
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content class="ion-padding">
      <ng-container
        *ngIf="modifyProductGroup && selectedProductToModify as product"
      >
        <div class="modify-product-wrapper">
          <ion-card>
            <ion-card-content>
              <form [formGroup]="modifyProductGroup" (submit)="onChangesSubmit()">
                <ion-input
                  formControlName="name"
                  label="Product Name*"
                  labelPlacement="floating"
                  errorText="Product Name is Required"
                ></ion-input>

                <br/>

                <ion-input
                  label="Product Price*"
                  labelPlacement="floating"
                  appInputRestriction
                  formControlName="price"
                  type="number"
                  min="0"
                  inputmode="numeric"
                  errorText="Product Price is Required"
                ></ion-input>

                <br/>

                <ion-select
                  label="Product Category"
                  labelPlacement="floating"
                  formControlName="category"
                >
                  <ion-select-option
                    *ngFor="let category of storeCategories"
                    [value]="category.id"
                  >
                    {{ category.name }}
                  </ion-select-option>
                </ion-select>

                <br/>

                <ion-input
                  label="Product Description"
                  labelPlacement="floating"
                  formControlName="description"
                ></ion-input>

                <br/>

                <div class="buttons-wrapper">
                  <ion-button (click)="onDismiss()" color="primary">
                    No Thanks
                  </ion-button>
                  <ion-button type="submit" color="warning">
                    Save Changes
                  </ion-button>
                </div>
              </form>
            </ion-card-content>
          </ion-card>
        </div>
      </ng-container>
    </ion-content>
  </ng-template>
</ion-modal>
